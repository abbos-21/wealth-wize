---
import Button from "../components/ui/Button.astro";

interface data {
  date: string;
  usd: {
    uzs: string;
  };
}

const API_URL =
  "https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/usd.json";

const response = await fetch(API_URL);
const data = await response.json();
---

<main class="d-flex flex-column">
  <nav class="navbar navbar-dark navbar-expand-lg py-5 position-relative">
    <div class="position-absolute w-100 header top-0 py-1">
      <div class="container d-flex justify-content-between">
        <a href="tel:+998946667410" class="text-decoration-none tel"
          ><span class="text-dark">Tel: </span>+998 94 666 74 10</a
        >

        <div class="d-flex align-items-center gap-2 rate">
          <div class="d-flex align-items-center gap-1">
            <img src="https://flagcdn.com/us.svg" width="30" alt="Ukraine" />
            <span>1$</span>
          </div>
          <span> = </span>
          <div class="d-flex align-items-center gap-1">
            <img src="https://flagcdn.com/uz.svg" width="30" alt="Ukraine" />
            <span>{Math.round(data.usd.uzs)} sums</span>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <a class="navbar-brand" href="#">WEALTHWISE</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Pricing</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
        </ul>
        <div class="d-flex gap-4 text-white align-items-center flex-wrap">
          <!-- <div>1$ = {Math.round(data.usd.uzs)} sums</div> -->

          <div class="dropdown">
            <button
              class="btn btn-primary dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              EN
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">UZ</a></li>
              <li><a class="dropdown-item" href="#">RU</a></li>
              <li><a class="dropdown-item" href="#">EN</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-12">
        <p class="title">Accounting Solutions for Financial Management</p>
        <p class="subtitle">Your finances are in good hands</p>

        <div
          class="d-flex flex-lg-row flex-column gap-3 align-items-lg-center align-items-start mt-4"
        >
          <Button label="View services" />
          <Button label="Need help?" variant="outline" />
        </div>
      </div>
    </div>
  </div>
</main>

<style>
  .dropdown-menu {
    background-color: var(--background-color);
  }

  .dropdown-item {
    color: var(--primary-color) !important;
  }

  .header {
    background: var(--block-color);
  }

  main {
    height: 700px;
    background-image: url("landing-dark.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .navbar-brand {
    font-weight: 600;
  }

  .title {
    font-size: 46px;
    line-height: 52px;
    font-weight: 500;
    color: white;
  }

  .subtitle {
    font-size: 28px;
    line-height: 32px;
    font-weight: 400;
    color: white;
  }

  .row {
    height: calc(564px - 136px);
    flex-direction: column;
    justify-content: center;
  }

  /* ul li {
    padding: 0 8px;
  } */

  /* .navbar-brand {
    margin-right: 3rem;
  } */

  ul li a {
    color: white;
    font-weight: 500;
  }

  ul li a:hover {
    color: var(--primary-color);
  }

  ul li a.active {
    color: var(--primary-color);
  }

  .tel {
    font-weight: 600;
    color: var(--primary-color);
  }

  @media only screen and (max-width: 991px) {
    main {
      height: 800px;
    }

    .row {
      height: calc(564px - 36px);
    }
  }

  .btn-primary {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
  }

  @media only screen and (max-width: 575px) {
    .tel {
      font-size: 12px;
      font-weight: 600;
      color: var(--secondary-color);
    }

    .rate {
      font-size: 12px;
    }
  }
</style>

---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Section from "../components/Section.astro";
import CardContainer from "../components/CardContainer.astro";
import Card from "../components/Card.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
import LogoWall from "../components/LogoWall.astro";

const responseBlock1 = await fetch("http://3.76.100.163:8080/block?id=1");
const dataBlock1 = await responseBlock1.json();

const responseBlock2 = await fetch("http://3.76.100.163:8080/block?id=2");
const dataBlock2 = await responseBlock2.json();

// const response = await fetch(`http://3.76.100.163:8080/card?id=1`);
// const data = await response.json();

const cardData = [];

for (let i = 1; i <= 6; i++) {
  const response = await fetch(`http://3.76.100.163:8080/card?id=${i}`);
  const data = await response.json();
  cardData.push(data);
  console.log(cardData);
}
---

<Layout title="WEALTHWISE - Бухгалтерское решение для управления финансами">
  <main>
    <section id="home">
      <Header />
    </section>

    <section id="about">
      <Section
        title={dataBlock1.title}
        subtitle={dataBlock1.content1}
        secondSubtitle={dataBlock1.content2}
        buttonLabel={dataBlock1.button_content}
        media="/3.jpg"
      />
    </section>

    <section id="services">
      <CardContainer
        title="Услуги"
        style="margin-top: 200px; margin-bottom: 100px;"
      >
        <Card
          title="Бухгалтерский учет Аутсорс"
          subtitle="WealthWise предлагает комплексные бухгалтерские услуги на аутсорсинг, которые помогут вашему бизнесу оптимизировать финансовые процессы и снизить налоговые риски."
          media="/1.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/1"
        />

        <Card
          title="Управленчиский учет"
          subtitle="WealthWise предлагает услугу управленческого учета, обеспечивая руководство компании актуальной финансовой аналитикой для принятия обоснованных стратегических решений."
          media="/2.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/2"
        />

        <Card
          title="Кадровый учет"
          subtitle="WealthWise предоставляет услуги по ведению кадрового учета и точному расчету заработной платы, включая все необходимые налоговые отчисления и взаимодействие с государственными органами."
          media="/4.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/3"
        />

        <Card
          title="Финансовый аудит"
          subtitle="это комплексная проверка финансовой деятельности компании, целью которой является подтверждение достоверности финансовой отчетности и соответствие операций требованиям законодательства и внутренним стандартам компании."
          media="/5.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/4"
        />

        <Card
          title="Восстановление бухгалтерского учета"
          subtitle="это услуга по восстановлению корректного учета финансовых операций компании за определенный период, когда учетные данные были утрачены, искажены или велись с ошибками."
          media="/6.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/5"
        />

        <Card
          title="Налоговое консультирование и правовые услуги"
          subtitle="Оптимизация налоговых платежей и подготовка отчетности с учетом последних изменений в законодательстве."
          media="/7.jpg"
          buttonLabel="Узнать больше"
          buttonHref="/services/6"
        />
      </CardContainer>
    </section>

    <Section
      style="margin-top: 100px;"
      type="reversed"
      title={dataBlock2.title}
      subtitle={dataBlock2.content1}
      secondSubtitle={dataBlock2.content2}
      buttonLabel={dataBlock2.button_content}
      media="/3.jpg"
    />

    <LogoWall />

    <section id="contact">
      <Contact title="Свяжитесь с нами" style="margin-top: 200px;" />
    </section>

    <Footer style="margin-top: 100px" />
  </main>
</Layout>

<style>
  main {
    background: var(--secondary-color);
  }
</style>
